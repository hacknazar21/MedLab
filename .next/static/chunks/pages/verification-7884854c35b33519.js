(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[342],{630:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verification",function(){return n(5852)}])},4297:function(e,t,n){"use strict";n.d(t,{g:function(){return s}});var r=n(5893);n(7294);function s(){return(0,r.jsxs)("div",{className:"lds-roller",children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{})]})}},9649:function(e,t,n){"use strict";var r=n(7568),s=n(4051),i=n.n(s),u=n(7294);t.Z=function(){var e=(0,u.useState)(!1),t=e[0],n=e[1],s=(0,u.useState)(null),a=s[0],c=s[1],o=(0,u.useState)(null),l=o[0],f=o[1],d=(0,u.useState)(!1),h=d[0],p=d[1],m=(0,u.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var r,s,u,a,o,l,d=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:"GET",s=d.length>2&&void 0!==d[2]?d[2]:null,u=d.length>3&&void 0!==d[3]?d[3]:{},a=d.length>4&&void 0!==d[4]&&d[4],n(!0),e.prev=2,s&&!a&&(s=JSON.stringify(s)),e.next=6,fetch(t,{method:r,body:s,headers:u});case 6:return o=e.sent,e.next=9,o.json();case 9:if(l=e.sent,o.ok){e.next=14;break}throw new Error(l.message||l||"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 14:p(!0);case 15:return l.success&&f(l.success),n(!1),e.abrupt("return",l);case 20:throw e.prev=20,e.t0=e.catch(2),n(!1),c(e.t0.message),e.t0;case 25:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{loading:t,request:m,error:a,clearError:function(){return c(null)},success:l,clearSuccess:function(){return f(null)},isOk:h}}},5794:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});var r=n(5893),s=n(7294);function i(e){return(0,r.jsx)("section",{className:"sugar",children:(0,r.jsx)("div",{className:"sugar__container",children:(0,r.jsx)("div",{className:"sugar__items",children:e.sugar.map((function(e,t){return""!==e.href?(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)("div",{className:"sugar__item",children:(0,r.jsx)("a",{href:e.href,children:e.title})}),(0,r.jsx)("span",{children:"/"})]},t):(0,r.jsx)("div",{className:"sugar__item",children:(0,r.jsx)("a",{href:e.href,children:e.title})},t)}))})})})}},5852:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(5893),s=n(49),i=n(9008),u=n.n(i),a=n(5794),c=n(7568),o=n(6042),l=n(4051),f=n.n(l),d=n(7294),h=n(9649),p=n(4297),m=n(9948),v=n(1163),x=function(e){var t=function(e){return!!parseInt(e)},n=function(e){if("Backspace"===e.key){var t;e.target.value="",g((function(t){return t[e.target.name][e.target.dataset.index]=e.target.value,(0,o.Z)({},t)}));var n=null===(t=e.target.parentElement.previousSibling)||void 0===t?void 0:t.childNodes[0];n&&n.focus()}},s=(0,h.Z)(),i=s.request,u=s.error,a=s.clearError,l=(s.clearSuccess,s.success,s.loading),x=(0,d.useContext)(m.V).login,j=(0,v.useRouter)(),_=(0,d.useState)({code:[]}),b=_[0],g=_[1],y=(0,d.useState)(60),w=y[0],N=y[1],O=(0,d.useState)(!0),S=O[0],k=(O[1],function(e){if(e.target.value.length>1&&t(e.target.value))e.target.value=e.target.value[0];else if(t(e.target.value)){if(1===e.target.value.length){var n,r=null===(n=e.target.parentElement.nextSibling)||void 0===n?void 0:n.childNodes[0];r&&r.focus()}}else e.target.value="";g((function(t){return t[e.target.name][e.target.dataset.index]=e.target.value,(0,o.Z)({},t)}))}),E=function(){var e=(0,c.Z)(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.code.join("").length){e.next=14;break}return e.prev=1,e.next=4,i("/api/auth/login","POST",b,{"Content-Type":"application/json"});case 4:if(!(n=e.sent).token){e.next=9;break}return e.next=8,x(n.token,n.userId);case 8:j.push("/profile/personal");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),setTimeout((function(){a()}),2e3);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){w>=0&&(setTimeout(P,1e3),N((function(e){return e>0?--e:e})))};return(0,d.useEffect)((function(){S&&N(60),P()}),[S]),(0,d.useEffect)((function(){console.log(b)}),[JSON.stringify(b)]),(0,r.jsxs)(r.Fragment,{children:[null!==u?(0,r.jsx)("div",{className:"bar error",children:u}):"",(0,r.jsx)("section",{className:"page__auth auth",children:(0,r.jsx)("div",{className:"auth__container",children:(0,r.jsx)("div",{className:"auth__form auth-form",children:(0,r.jsxs)("div",{className:"auth-form__wrapper",children:[(0,r.jsx)("h2",{className:"auth-form__title",children:"\u0412\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"}),(0,r.jsx)("div",{className:"auth-form__subtitle",children:"\u041c\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u0432\u0430\u043c \u043a\u043e\u0434 \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),(0,r.jsxs)("div",{className:"auth-form__inputs",children:[(0,r.jsxs)("div",{className:"auth-form__input-box",children:[(0,r.jsxs)("div",{className:"auth-form__inputs-code",children:[(0,r.jsx)("div",{className:"auth-form__input-code",children:(0,r.jsx)("input",{onInput:k,type:"number",name:"code","data-index":0,onKeyDown:n,className:"auth-form__input"})}),(0,r.jsx)("div",{className:"auth-form__input-code",children:(0,r.jsx)("input",{onInput:k,type:"number",name:"code","data-index":1,onKeyDown:n,className:"auth-form__input"})}),(0,r.jsx)("div",{className:"auth-form__input-code",children:(0,r.jsx)("input",{onInput:k,type:"number",name:"code","data-index":2,onKeyDown:n,className:"auth-form__input"})}),(0,r.jsx)("div",{className:"auth-form__input-code",children:(0,r.jsx)("input",{onInput:k,type:"number",name:"code","data-index":3,onKeyDown:n,className:"auth-form__input"})})]}),(0,r.jsx)("label",{className:"auth-form__label",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434"})]}),(0,r.jsxs)("div",{className:"auth-form__submit-box",children:[(0,r.jsxs)("button",{onClick:E,type:"submit",className:"auth-form__submit",children:["\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442",l?(0,r.jsx)(p.g,{}):""]}),(0,r.jsx)("div",{className:"auth-form__submit-info",children:(0,r.jsxs)("p",{children:["\u041f\u043e\u0432\u0442\u043e\u0440\u043d\u0430\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 ",w," \u0441\u0435\u043a\u0443\u043d\u0434"]})}),(0,r.jsx)("button",{disabled:w>0,className:"auth-form__link",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0434 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e"})]})]})]})})})})]})};function j(e){e.news,e.reviews,e.analysis;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u(),{children:[(0,r.jsx)("title",{children:"\u0412\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"}),(0,r.jsx)("meta",{charSet:"utf-8"}),(0,r.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,r.jsx)("div",{className:"wrapper another",children:(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(a.M,{sugar:[{title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",href:"/"},{title:"\u041b\u043e\u0433\u0438\u043d",href:""}]}),(0,r.jsx)("main",{className:"page",children:(0,r.jsx)(x,{})})]})})]})}},9008:function(e,t,n){e.exports=n(5443)},4111:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},1438:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5950:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function s(e){return r(e)}n.d(t,{Z:function(){return c}});var i=n(4111),u=n(2222);function a(e,t){return!t||"object"!==(0,u.Z)(t)&&"function"!==typeof t?(0,i.Z)(e):t}function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}},8029:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,{Z:function(){return s}})},9396:function(e,t,n){"use strict";function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n.d(t,{Z:function(){return r}})},797:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return s}})},2222:function(e,t,n){"use strict";function r(e){return e&&e.constructor===Symbol?"symbol":typeof e}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[664,49,774,888,179],(function(){return t=630,e(e.s=t);var t}));var t=e.O();_N_E=t}]);